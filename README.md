# 框架结构说明（haizeiym/lsscript）

## 一、整体简介

本框架基于 TypeScript 语言构建，采用面向组件和模块化设计，适用于游戏开发或轻量化脚本业务。设计目标是实现高内聚、低耦合的系统核心，方便后期扩展、维护以及支持多语言、多资源分包、大型复杂项目。

---

## 二、核心模块功能

### 1. 资源管理（ResMgr）

-   负责统一资源的加载、卸载、缓存管理。
-   支持本地/远程资源、分包和版本控制，覆盖图片、动画、音频、预制体等多种类型。
-   提供资源预加载进度、动态释放等功能。

### 2. 动画管理（AnimMgr）

-   专注于帧动画播放和状态管理，支持循环次数、帧时间、播放回调等。
-   自动处理动画帧排序、有效性检查、生命周期清理。

### 3. UI 绑定管理（BindUI）

-   实现对节点及其组件（如 Button、Label、Sprite）的自动收集与绑定。
-   支持 UI 深度绑定和自动数据映射，便于界面快速开发和多语言兼容。

### 4. 组件基础类（BaseComponent）

-   业务组件可继承此类，标准化数据与视图绑定（如 MData/BindUI）、生命周期钩子（init/start/onLoad）。
-   集成计时器、UI 清理、事件初始化等，方便业务扩展。

### 5. 工具模块（ToolsMgr）

-   提供字符串格式化、数组乱序、数值处理等常用工具。

### 6. 第三方集成（NMgr）

-   封装计时器、异步工具和 WebSocket 通信能力。

### 7. 国际化（LangSprite）

-   提供多语言图片和控件切换，方便国际化业务。

---

## 三、架构特点与建议

-   **高内聚、低耦合**：核心模块分明，业务逻辑与底层解耦，易于维护和协作开发。
-   **生命周期完善**：各类资源、UI 组建和定时器都有统一释放回调，适合复杂项目长期运行。
-   **易于扩展**：通过基类、命名空间及插件架构，可以灵活适应新需求和扩展。
-   **适用范围广**：适合中大型项目，支持团队并行开发及百万级用户量。

---

## 四、适用场景

-   中小型移动游戏
-   支持分包与多语言的独立应用
-   可扩展的工具/平台型客户端
-   具有远程资源和复杂动画需求的项目

---
